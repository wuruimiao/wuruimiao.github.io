<label for="sidebar-checkbox" class="sidebar-toggle"></label>

<script>
    (function (document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function (e) {
            var target = e.target;

            if (target === toggle) {
                checkbox.checked = !checkbox.checked;
                // 取消事件的默认动作
                e.preventDefault();
            } else if (checkbox.checked && !sidebar.contains(target)) {
                /* click outside the sidebar when sidebar is open */
                checkbox.checked = false;
            }
        }, false);
    })(document);
</script>